{% extends "base.html" %}

{% block content %}
<div style="max-width: 1200px; margin: 2rem auto; padding: 0 2rem;">
    <h1>NGO Dashboard</h1>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="flash-message flash-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    
    <h2 style="margin-top: 2rem;">Volunteer Applications</h2>
    
    {% if volunteers %}
        <div class="alert-container">
            {% for volunteer in volunteers %}
            <div class="alert-card info">
                <div class="alert-header">
                    <div class="alert-title">{{ volunteer.name }}</div>
                    <div class="alert-severity severity-{{ volunteer.status }}">{{ volunteer.status|upper }}</div>
                </div>
                <div class="alert-location"><i class="fas fa-envelope"></i> {{ volunteer.email }}</div>
                <div class="alert-location"><i class="fas fa-phone"></i> {{ volunteer.phone }}</div>
                <div class="alert-location"><i class="fas fa-map-marker-alt"></i> {{ volunteer.location }}</div>
                <p><strong>Skills:</strong> {{ volunteer.skills }}</p>
                <p><strong>Availability:</strong> {{ volunteer.availability }}</p>
                <div class="alert-time"><i class="fas fa-clock"></i> Applied on: {{ volunteer.created_at }}</div>
                
                <div style="margin-top: 1rem;">
                    <button class="btn" style="margin-right: 0.5rem;">Contact Volunteer</button>
                    <button class="btn" style="background: var(--success);">Approve</button>
                    <button class="btn" style="background: var(--danger);">Reject</button>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert-card info">
            <div class="alert-header">
                <div class="alert-title">NO VOLUNTEER APPLICATIONS</div>
                <div class="alert-severity severity-info">INFO</div>
            </div>
            <p>There are currently no volunteer applications. Check back later.</p>
        </div>
    {% endif %}
</div>
{% endblock %}  